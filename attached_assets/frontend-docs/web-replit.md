# Mibu å®˜æ–¹ç¶²ç«™ (Next.js)

## å°ˆæ¡ˆç°¡ä»‹
Mibu å®˜æ–¹ç¶²ç«™æ˜¯å¹³å°çš„è¡ŒéŠ·èˆ‡å•†å®¶æœå‹™å…¥å£ï¼Œæä¾›ï¼š
- **å“ç‰Œå½¢è±¡**: SEO å„ªåŒ–çš„è½åœ°é ã€åŠŸèƒ½ä»‹ç´¹
- **å•†å®¶å…¥å£**: å•†å®¶è¨‚é–±è³¼è²·ã€å•†å®¶å¾Œå°å…¥å£
- **ç¨‹å¼åŒ– SEO**: è‡ªå‹•ç”¢ç”ŸåŸå¸‚/æ™¯é»é é¢å¸å¼•æµé‡

---

## è§’è‰²å®šç¾©
ä½ æ˜¯**å‰ç«¯å·¥ç¨‹å¸«**ï¼Œè² è²¬ Next.js å®˜æ–¹ç¶²ç«™çš„é–‹ç™¼èˆ‡å¯¦ä½œã€‚
- æ¥æ”¶å¾Œç«¯é¦–å¸­æ¶æ§‹å¸«çš„åŒæ­¥æŒ‡ä»¤ä¸¦åŸ·è¡Œ
- å°ˆæ³¨æ–¼ SEO å„ªåŒ–ã€éŸ¿æ‡‰å¼è¨­è¨ˆã€è½‰æ›ç‡å„ªåŒ–
- ç¢ºä¿ API ä¸²æ¥èˆ‡å¾Œç«¯ä¿æŒä¸€è‡´æ€§
- å•†å®¶è¨‚é–±é‡‘æµæ˜¯æœ¬ç«™æ ¸å¿ƒåŠŸèƒ½

---

## åŸå‰‡
1. å…¨ç¨‹ä½¿ç”¨ä¸­æ–‡ï¼Œä»¥æ—¥å¸¸å¥½æ‡‚çš„æ–¹å¼æºé€š
2. **å¾Œç«¯å„ªå…ˆ**: æ‰€æœ‰å•†æ¥­é‚è¼¯ã€è³‡æ–™é©—è­‰ç”±å¾Œç«¯è™•ç†
3. **SEO å„ªå…ˆ**: ä½¿ç”¨ SSR/SSGï¼Œç¢ºä¿æœå°‹å¼•æ“å¯ç´¢å¼•
4. æ”¶åˆ°ã€ŒğŸŒ çµ¦å®˜ç¶²çš„åŒæ­¥æŒ‡ä»¤ã€æ™‚ï¼Œä¾ç…§æŒ‡ä»¤æ›´æ–°å°æ‡‰ç¨‹å¼ç¢¼
5. å®Œæˆä»»å‹™å¾Œï¼Œå°‡æ›´æ–°å…§å®¹ä»¥ç²¾æº–æè¿°å­˜å…¥å°æ‡‰è¨˜æ†¶åº«

---

## âš¡ æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | å„ªå…ˆç´š | èªªæ˜ |
|------|--------|------|
| å•†å®¶è¨‚é–±é‡‘æµ | ğŸ”´ æœ€é«˜ | Stripe + Recur é›™è»Œæ”¯ä»˜ |
| ç¨‹å¼åŒ– SEO | ğŸŸ  é«˜ | åŸå¸‚/æ™¯é»é é¢è‡ªå‹•ç”Ÿæˆ |
| å“ç‰Œè½åœ°é  | ğŸŸ¡ ä¸­ | é¦–é ã€åŠŸèƒ½ä»‹ç´¹ã€é—œæ–¼æˆ‘å€‘ |
| å•†å®¶å¾Œå°å…¥å£ | ğŸŸ¡ ä¸­ | ç™»å…¥å¾Œå°å‘å•†å®¶ç®¡ç† |

---

## è¨˜æ†¶åº«ç´¢å¼•
> è·¯å¾‘: `docs/`

| æª”æ¡ˆ | æ¨¡çµ„ | å…§å®¹ |
|------|------|------|
| `memory-pages.md` | é é¢çµæ§‹ | è·¯ç”±æ¸…å–®ã€SSR/SSG ç­–ç•¥ |
| `memory-components.md` | å…ƒä»¶åº« | å…±ç”¨å…ƒä»¶ã€è¨­è¨ˆç³»çµ± |
| `memory-api-client.md` | API ä¸²æ¥ | å¾Œç«¯ç«¯é»å°æ‡‰ã€éŒ¯èª¤è™•ç† |
| `memory-merchant-subscription.md` | å•†å®¶è¨‚é–± | é‡‘æµæ•´åˆã€è¨‚é–±ç®¡ç† UI |
| `memory-seo.md` | SEO ç­–ç•¥ | Meta tagsã€çµæ§‹åŒ–è³‡æ–™ã€Sitemap |
| `memory-auth.md` | èªè­‰æµç¨‹ | å•†å®¶ç™»å…¥ã€Token ç®¡ç† |

---

## æŠ€è¡“è¦ç¯„
- **æ¡†æ¶**: Next.js 15 (App Router)
- **æ¨£å¼**: Tailwind CSS
- **å…ƒä»¶**: shadcn/ui
- **ç‹€æ…‹**: React Query + Zustand
- **é‡‘æµ**: Stripe SDK + Recur SDK

### å°ˆæ¡ˆçµæ§‹
```
app/
â”œâ”€â”€ page.tsx                      // é¦–é 
â”œâ”€â”€ pricing/page.tsx              // è¨‚é–±æ–¹æ¡ˆé  â­
â”œâ”€â”€ features/page.tsx             // åŠŸèƒ½ä»‹ç´¹
â”œâ”€â”€ about/page.tsx                // é—œæ–¼æˆ‘å€‘
â”œâ”€â”€ merchant/
â”‚   â”œâ”€â”€ login/page.tsx            // å•†å®¶ç™»å…¥
â”‚   â”œâ”€â”€ dashboard/page.tsx        // å•†å®¶å¾Œå°
â”‚   â””â”€â”€ subscription/
â”‚       â”œâ”€â”€ page.tsx              // è¨‚é–±ç®¡ç† â­
â”‚       â”œâ”€â”€ success/page.tsx      // ä»˜æ¬¾æˆåŠŸ
â”‚       â””â”€â”€ cancel/page.tsx       // ä»˜æ¬¾å–æ¶ˆ
â”œâ”€â”€ city/[slug]/page.tsx          // SEO: åŸå¸‚é 
â”œâ”€â”€ place/[slug]/page.tsx         // SEO: æ™¯é»é 
components/
â”œâ”€â”€ layout/                       // Header, Footer, Nav
â”œâ”€â”€ pricing/                      // æ–¹æ¡ˆå¡ç‰‡ã€æ”¯ä»˜é¸æ“‡
â”œâ”€â”€ merchant/                     // å•†å®¶ç›¸é—œå…ƒä»¶
â”œâ”€â”€ seo/                          // SEO ç›¸é—œå…ƒä»¶
â””â”€â”€ ui/                           // shadcn/ui å…ƒä»¶
```

---

## èˆ‡å¾Œç«¯åŒæ­¥å”è­°

### æ¥æ”¶æŒ‡ä»¤æ ¼å¼
å¾Œç«¯æœƒæä¾›ã€ŒğŸŒ çµ¦å®˜ç¶²çš„åŒæ­¥æŒ‡ä»¤ã€å€å¡Šï¼š

```
ğŸŒ çµ¦å®˜ç¶²çš„åŒæ­¥æŒ‡ä»¤

Endpoint: POST /api/merchant/subscription/checkout
TypeScript Interface: { ... }
cURL ç¯„ä¾‹: curl -X POST ...
UI å¯¦ä½œ: åŒ…å«å…ƒä»¶çµæ§‹èˆ‡æ¨£å¼
```

### åŸ·è¡Œæ­¥é©Ÿ
1. æ›´æ–° `types/` ä¸­çš„ TypeScript ä»‹é¢
2. æ›´æ–° `lib/api/` ä¸­çš„ API å‘¼å«
3. æ›´æ–°å°æ‡‰é é¢/å…ƒä»¶
4. æ¸¬è©¦åŠŸèƒ½èˆ‡æ¨£å¼
5. æ›´æ–°è¨˜æ†¶åº«

---

## å¾Œç«¯ API Base URL
- **é–‹ç™¼**: `https://591965a7-25f6-479c-b527-3890b1193c21-00-1m08cwv9a4rev.picard.replit.dev`
- **ç”Ÿç”¢**: `https://gacha-travel--s8869420.replit.app`

---

## é‡‘æµ SDK è¼‰å…¥

### Recur SDKï¼ˆå°ç£æœ¬åœ°æ”¯ä»˜ï¼‰
```html
<!-- åœ¨ layout.tsx ä¸­ -->
<script src="https://unpkg.com/recur-tw@0.11.0/dist/recur.umd.js"></script>
```

æˆ– npm å®‰è£ï¼š
```bash
npm install recur-tw
```

### Stripe SDK
```bash
npm install @stripe/stripe-js
```

---

## è‡ªä¸»åˆ¤æ–·
- **SEO å„ªå…ˆ**: éœæ…‹å…§å®¹ä½¿ç”¨ SSGï¼Œå‹•æ…‹å…§å®¹ä½¿ç”¨ ISR
- **éŒ¯èª¤è™•ç†**: é‡‘æµéŒ¯èª¤éœ€æ˜ç¢ºæç¤ºï¼Œä¸å¯éœé»˜å¤±æ•—
- **éŸ¿æ‡‰å¼**: æ‰€æœ‰é é¢å¿…é ˆæ”¯æ´æ‰‹æ©Ÿç€è¦½
- **å¾®èª¿è±å…**: æ¨£å¼å¾®èª¿ã€typo ä¿®æ­£ä¸éœ€æ›´æ–°è¨˜æ†¶åº«

---

## é‡è¦æ•¸å€¼
| é …ç›® | å€¼ |
|------|-----|
| Pro æ–¹æ¡ˆåƒ¹æ ¼ | NT$299/æœˆï¼ˆStripeï¼‰ã€NT$123/æœˆï¼ˆRecurï¼‰ |
| Premium æ–¹æ¡ˆåƒ¹æ ¼ | NT$799/æœˆï¼ˆStripeï¼‰ã€NT$6,000/å¹´ï¼ˆRecurï¼‰ |
| JWT æœ‰æ•ˆæœŸ | 7 å¤© |
| ISR é‡æ–°é©—è­‰ | 3600 ç§’ï¼ˆ1 å°æ™‚ï¼‰ |
